<div class="hadith-page" dir="rtl">
    <div class="container">
        <!-- Header -->
        <div class="page-header fade-in-up">
            <h1 class="page-title">
                <span class="title-icon">๐</span>
                <span>ุงูุฃุญุงุฏูุซ ุงููุจููุฉ</span>
            </h1>
            <p class="page-subtitle">ุชุตูุญ ูุงุจุญุซ ูู ูุชุจ ุงูุญุฏูุซ ุงูุดุฑูู</p>
        </div>

        <!-- Controls Section -->
        <div class="controls-section card glass-effect fade-in">
            <!-- Book Selection -->
            <div class="control-group">
                <label for="edition-select">ุงุฎุชุฑ ุงููุชุงุจ:</label>
                <select id="edition-select" [(ngModel)]="selectedEdition" (change)="onEditionChange()"
                    [disabled]="loadingBooks">
                    <option *ngFor="let edition of editions" [value]="edition.name">
                        {{ edition.displayName }}
                    </option>
                </select>
            </div>

            <!-- Search -->
            <div class="control-group search-group">
                <label for="hadith-search">ุจุญุซ:</label>
                <div class="search-input-wrapper">
                    <input type="text" id="hadith-search" [(ngModel)]="searchTerm" (input)="onSearch()"
                        placeholder="ุงุจุญุซ ุนู ุญุฏูุซ..." [disabled]="loading">
                    <span class="search-icon">๐</span>
                </div>
            </div>
        </div>

        <!-- Loading State -->
        <div class="loading-state fade-in" *ngIf="loading || loadingBooks">
            <div class="spinner"></div>
            <p>ุฌุงุฑู ุงูุชุญููู...</p>
        </div>

        <!-- Error State -->
        <div class="error-message fade-in" *ngIf="error">
            {{ error }}
        </div>

        <!-- Hadiths List -->
        <div class="hadiths-container" *ngIf="!loading && !loadingBooks">
            <div class="hadiths-list">
                <div *ngFor="let hadith of paginatedHadiths; let i = index; let isLast = last"
                    class="hadith-item fade-in-up" [style.animation-delay]="(i * 0.03) + 's'">

                    <div class="hadith-meta">
                        <span class="hadith-number">{{ hadith.hadithnumber }}</span>
                        <span class="hadith-grade" *ngIf="hadith.grades && hadith.grades.length > 0">
                            {{ hadith.grades[0].grade }}
                        </span>
                    </div>

                    <div class="hadith-content">
                        <div class="decorative-start"></div>
                        <p class="hadith-text">{{ hadith.text }}</p>
                        <div class="decorative-end"></div>
                    </div>

                    <div class="hadith-divider" *ngIf="!isLast"></div>
                </div>
            </div>
        </div>

        <!-- Pagination -->
        <div class="pagination fade-in" *ngIf="filteredHadiths.length > itemsPerPage && !loading">
            <button class="pagination-btn" (click)="prevPage()" [disabled]="currentPage === 1">ุงูุณุงุจู</button>
            <span class="page-info">ุตูุญุฉ {{ currentPage }} ูู {{ totalPages }}</span>
            <button class="pagination-btn" (click)="nextPage()" [disabled]="currentPage === totalPages">ุงูุชุงูู</button>
        </div>

        <!-- No Results -->
        <div class="no-results fade-in" *ngIf="!loading && filteredHadiths.length === 0 && !error">
            <p>ูุง ุชูุฌุฏ ูุชุงุฆุฌ ูุทุงุจูุฉ ููุจุญุซ.</p>
        </div>
    </div>
</div>